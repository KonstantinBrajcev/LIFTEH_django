<a href="{% url 'object_add' %}">
  <button type="button" class="btn btn-primary" style='justify-content:center;'>Добавить объект</button>
</a>

<div class="input-group" style="display: flex; align-items: center;">
  <label class="input-group-text" for="month" style="float: left;">Месяц</label>
  <form method="GET" action="{% url 'to' %}#service" >
    <select class="form-control" id="monthSelect" name="month" onchange="this.form.submit()">
      <option value="1" {% if request.GET.month == '1' %}selected{% endif %}>Январь</option>
      <option value="2" {% if request.GET.month == '2' %}selected{% endif %}>Февраль</option>
      <option value="3" {% if request.GET.month == '3' %}selected{% endif %}>Март</option>
      <option value="4" {% if request.GET.month == '4' %}selected{% endif %}>Апрель</option>
      <option value="5" {% if request.GET.month == '5' %}selected{% endif %}>Май</option>
      <option value="6" {% if request.GET.month == '6' %}selected{% endif %}>Июнь</option>
      <option value="7" {% if request.GET.month == '7' %}selected{% endif %}>Июль</option>
      <option value="8" {% if request.GET.month == '8' %}selected{% endif %}>Август</option>
      <option value="9" {% if request.GET.month == '9' %}selected{% endif %}>Сентябрь</option>
      <option value="10" {% if request.GET.month == '10' %}selected{% endif %}>Октябрь</option>
      <option value="11" {% if request.GET.month == '11' %}selected{% endif %}>Ноябрь</option>
      <option value="12" {% if request.GET.month == '12' %}selected{% endif %}>Декабрь</option>
    </select>
  </form>
</div>

<form method="get" class="mb-3">
  <div class="input-group" style="width: 300px;">
  <label class="input-group-text" for="city">Город:</label>
  <select class="form-select" name="city" id="city" onchange="this.form.submit()">
    <option value="">Все города</option>
    {% for city in cities %}
      <option value="{{ city }}" {% if city == selected_city %}selected{% endif %}>{{ city }}</option>
    {% endfor %}
  </select>
</div>
</form>

<script>
  // Получаем текущий месяц (1-12)
  const currentMonth = new Date().getMonth() + 1; // getMonth() возвращает 0-11
  // Устанавливаем текущее значение в select только если месяц не выбран
  const selectedMonth = "{{ request.GET.month|default:'' }}"; // Получаем значение из Django
  if (!selectedMonth) {
      document.getElementById('monthSelect').value = currentMonth;
  }
</script>

